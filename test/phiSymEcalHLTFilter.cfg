#/**
#*  Test of AlcaReco online selection for Ecal PhiSymmetry Calibration
#*
#*  \author Stefano Argiro
#*  \Id $Id: phiSymHLTFilter.cfg,v 1.1 2008/01/06 21:52:18 argiro Exp $
#*/

process phiSymCalibrationStream = {

source = PoolSource {
    untracked vstring fileNames = {'/store/CSA07/2007/12/15/L1Trig-MinBias-A4/0002/00026980-3FAB-DC11-A34C-000423D944A4.root'}
}
 
untracked PSet maxEvents = {untracked int32 input = 1000}

#L1 emulation
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "L1Trigger/Configuration/data/L1Emulator.cff"
include "L1Trigger/Configuration/data/L1Extra.cff"

# We need to unprescale the minbiases
replace l1GtFactors.PrescaleFactors = {
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1,       1,       1,
            1,       1,       1,       1,       1,       1,       1,       1
}

#needed by EcalRawToDigiDev unpacker
include "Geometry/EcalMapping/data/EcalMapping.cfi"
es_source eegeom = EmptyESSource {
     string recordName = "EcalMappingRcd"
     vuint32 firstValid = { 1 }
     bool iovIsRunNotTime = false
}

# Calo geometry service model
include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"

# Conditions
include "CalibCalorimetry/Configuration/data/Ecal_FakeConditions.cff"

#configure output
include   "HLTrigger/special/data/eventContent_AlcastreamEcalPhiSym.cff"	
module outm= PoolOutputModule {

       using HLTAlcaRecoPhiSymStream 
       untracked string fileName = "file:phiSymAlcaRecoStream.root"
}


include "HLTrigger/special/data/AlcastreamEcalPhiSym.cff"

path p={ L1Emulator, l1extraParticles,  alcaEcalPhiSymSequence }

endpath out ={outm}

} #process

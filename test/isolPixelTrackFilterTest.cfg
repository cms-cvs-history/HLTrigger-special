process iptRECO  = {

        untracked PSet opt = {
           untracked bool makeTriggerResults = true  # default is false
           vstring listOfTriggers = {"*" } # must be given if makeTriggerResults is true
         }
        source = PoolSource {

           untracked vstring fileNames = {

'/store/RelVal/2007/9/29/RelVal-RelValQCD_Pt_80_120-1191090129/0001/34E08E92-096F-DC11-A474-000423D98800.root',
'/store/RelVal/2007/9/29/RelVal-RelValQCD_Pt_80_120-1191090129/0001/50881E91-256F-DC11-93B4-001617DBD356.root',
'/store/RelVal/2007/9/29/RelVal-RelValQCD_Pt_80_120-1191090129/0001/5682E59A-096F-DC11-A6EE-001617E30F56.root',
'/store/RelVal/2007/9/29/RelVal-RelValQCD_Pt_80_120-1191090129/0001/606E5099-096F-DC11-9B3E-000423D98BC4.root'
	     }

        }

untracked PSet maxEvents = {untracked int32 input = 100}


#include "HLTrigger/special/data/hltHcalIsolatedTrack.cff"

##

module hlt1GetDigi = hltGetDigi from "HLTrigger/HLTanalyzers/data/hltGetDigi.cfi"
include "Configuration/StandardSequences/data/L1Emulator.cff"
include "Configuration/StandardSequences/data/L1Extra.cff"

include "HLTrigger/Configuration/data/common/HLTSetupFromDigis.cff"
#
#############################

module  l1sIsolTrack = hltLevel1GTSeed from "HLTrigger/HLTfilters/data/hltLevel1GTSeed.cfi"
replace l1sIsolTrack.L1SeedsLogicalExpression = "L1_SingleJet100 OR L1_SingleTauJet100"

########################

module preIsolTrack = hltPrescaler from "HLTrigger/HLTcore/data/hltPrescaler.cfi"
replace preIsolTrack.prescaleFactor = 1

module preIsolTrackNoEcalIso = hltPrescaler from "HLTrigger/HLTcore/data/hltPrescaler.cfi"
replace preIsolTrackNoEcalIso.prescaleFactor = 1

####################### ECAL ISOLATION PRODUCER ##############

include "Calibration/HcalIsolatedTrackReco/data/ecalIsolPartProd.cfi"
replace ecalIsolPartProd.L1GTSeedLabel=l1sIsolTrack

####################### ECAL ISOLATION FILTER ##########################

include "HLTrigger/special/data/ecalIsolFilter.cfi"

####################### ISOLATED PIXEL CANDS ##########################

include "Calibration/HcalIsolatedTrackReco/data/isolPixelTrackProd.cfi"
replace isolPixelTrackProd.L1GTSeedLabel=l1sIsolTrack

###################### ISOLATED PIXEL CAND FILTER ####################

include "HLTrigger/special/data/isolPixelTrackFilter.cfi"

######################################################################

sequence hltBegin = { hlt1GetDigi & (L1Emulator , L1Extra) }
sequence l1SeedFilter = {l1sIsolTrack}
sequence doEcalIsolInput = {ecalIsolPartProd}
sequence doPixTrackInput = {isolPixelTrackProd}
sequence pixelTrackFilter = {isolPixelTrackFilter}

########################
sequence l2EcalIsolFilterTest = {doEcalIsolInput, ecalIsolFilter}
sequence l3PixelIsolFilterTest = {doPixTrackInput, pixelTrackFilter}

#####################
sequence hltHcalIsolatedTrackTest = { hltBegin, l1SeedFilter, preIsolTrack, l2EcalIsolFilterTest & l3PixelIsolFilterTest}
sequence hltHcalIsolatedTrackNoEcalIsolTest = { hltBegin, l1SeedFilter, preIsolTrackNoEcalIso & l3PixelIsolFilterTest}

##########################

path CandHLTHcalIsolatedTrack = { hltHcalIsolatedTrackTest }
path CandHLTHcalIsolatedTrackNoEcalIsol = { hltHcalIsolatedTrackNoEcalIsolTest }

#################endpath 

untracked PSet options = {
		untracked bool wantSummary = true        # default is false
	}
module l1gtTrigReport = l1GtTrigReport from "L1Trigger/GlobalTriggerAnalyzer/data/l1GtTrigReport.cfi"
module hltTrigReport = hlTrigReport from "HLTrigger/HLTanalyzers/data/hlTrigReport.cfi"

############# output options

module outputEvents = PoolOutputModule
   {
     untracked vstring outputCommands =
      {
        "drop *",
        "keep *_l1extraParticles_*_*",
        "keep *_pixelTracks_*_*",
	"keep *_ecalIsolPartProd_*_*",
	"keep *_ecalIsolFilter_*_*",
        "keep *_isolPixelTrackProd_*_*",
        "keep *_isolPixelTrackFilter_*_*",
        "keep *_myTimer_*_iptRECO",
        "keep *_pts_*_iptRECO"
      }
     untracked string fileName = "test.root"
   }

   endpath outpath = { outputEvents, l1gtTrigReport & hltTrigReport }
}
